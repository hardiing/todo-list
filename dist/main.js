(()=>{"use strict";function t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function e(e){t(1,arguments);var s=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===s?new Date(e.getTime()):"number"==typeof e||"[object Number]"===s?new Date(e):("string"!=typeof e&&"[object String]"!==s||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function s(s){t(1,arguments);var n=e(s);return n.setHours(0,0,0,0),n}function n(e,n){t(2,arguments);var a=s(e),o=s(n);return a.getTime()===o.getTime()}function a(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function o(s,n){t(1,arguments);var o=n||{},r=o.locale,i=r&&r.options&&r.options.weekStartsOn,c=null==i?0:a(i),d=null==o.weekStartsOn?c:a(o.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=e(s),l=u.getDay(),m=(l<d?7:0)+l-d;return u.setDate(u.getDate()-m),u.setHours(0,0,0,0),u}function r(e,s,n){t(2,arguments);var a=o(e,n),r=o(s,n);return a.getTime()===r.getTime()}function i(s,n){t(2,arguments);var o=e(s),r=a(n);return isNaN(r)?new Date(NaN):r?(o.setDate(o.getDate()+r),o):o}class c{constructor(t){this.name=t,this.tasks=[]}setName(t){this.name=t}getName(){return this.name}setTasks(t){this.tasks=t}getTasks(){return this.tasks}getTask(t){return this.tasks.find((e=>e.getName()===t))}contains(t){return this.tasks.some((e=>e.getName()===t))}addTask(t){this.tasks.find((e=>e.getName()===t.name))||this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e.name!==t))}getTodayTasks(){return this.tasks.filter((s=>function(e){return t(1,arguments),n(e,Date.now())}(e(new Date(s.getDateFormatted())))))}getWeekTasks(){return this.tasks.filter((s=>function(e,s){return t(1,arguments),r(e,Date.now(),s)}(function(e,s){t(2,arguments);var n=a(s);return i(e,-n)}(e(new Date(s.getDateFormatted())),1))))}}class d{constructor(t,e="Add a description",s="No date",n){this.name=t,this.description=e,this.dueDate=s,this.priority=n}setName(t){this.name=t}getName(){return this.name}setDescription(t){this.description=t}getDescription(){return this.description}setDate(t){this.dueDate=t}getDate(){return this.dueDate}getDateFormatted(){const t=this.dueDate.split("/")[0];return`${this.dueDate.split("/")[1]}/${t}/${this.dueDate.split("/")[2]}`}setPriority(t){this.priority=t}getPriority(){return this.priority}}class u{constructor(){this.projects=[],this.projects.push(new c("Inbox")),this.projects.push(new c("Today")),this.projects.push(new c("This week"))}setProjects(t){this.projects=t}getProjects(){return this.projects}getProject(t){return this.projects.find((e=>e.getName()===t))}contains(t){return this.projects.some((e=>e.getName()===t))}addProject(t){this.projects.find((e=>e.name===t.name))||this.projects.push(t)}deleteProject(t){const e=this.projects.find((e=>e.getName()===t));this.projects.splice(this.projects.indexOf(e),1)}updateTodayProjects(){this.getProject("Today").tasks=[],this.projects.forEach((t=>{"Today"!==t.getName()&&"This week"!==t.getName&&t.getTodayTasks().forEach((e=>{const s=`${e.getName()} (${t.getName()})`;this.getProject("Today").addTask(new d(s,e.getDate()))}))}))}updateWeekProjects(){this.getProject("This week").tasks=[],this.projects.forEach((t=>{"Today"!==t.getName()&&"This week"!==t.getName()&&t.getWeekTasks().forEach((e=>{const s=`${e.getName()} (${t.getName()})`;this.getProject("This week").addTask(new d(s,e.getDate()))}))})),this.getProject("This week").setTasks(this.getProject("This week").getTasks().sort(((s,n)=>function(s,n){t(2,arguments);var a=e(s),o=e(n),r=a.getTime()-o.getTime();return r<0?-1:r>0?1:r}(e(new Date(s.getDateFormatted())),e(new Date(n.getDateFormatted()))))))}}class l{static saveTodoList(t){localStorage.setItem("todoList",JSON.stringify(t))}static getTodoList(){const t=Object.assign(new u,JSON.parse(localStorage.getItem("todoList")));return t.setProjects(t.getProjects().map((t=>Object.assign(new c,t)))),t.getProjects().forEach((t=>t.setTasks(t.getTasks().map((t=>Object.assign(new d,t)))))),t}static addProject(t){const e=l.getTodoList();e.addProject(t),l.saveTodoList(e)}static deleteProject(t){const e=l.getTodoList();e.deleteProject(t),l.saveTodoList(e)}static addTask(t,e){const s=l.getTodoList();s.getProject(t).addTask(e),l.saveTodoList(s)}static deleteTask(t,e){const s=l.getTodoList();s.getProject(t).deleteTask(e),l.saveTodoList(s)}static renameTask(t,e,s){const n=l.getTodoList();n.getProject(t).getTask(e).setName(s),l.saveTodoList(n)}static setTaskDate(t,e,s){const n=l.getTodoList();n.getProject(t).getTask(e).setDate(s),l.saveTodoList(n)}static updateToday(){const t=l.getTodoList();t.updateTodayProjects(),l.saveTodoList(t)}static updateWeek(){const t=l.getTodoList();t.updateWeekProjects(),l.saveTodoList(t)}}function m(t){document.querySelectorAll(".button-nav").forEach((t=>{t!==this&&t.classList.remove("active")})),t.classList.add("active")}function p(){document.getElementById("main").textContent="",l.getTodoList().getProjects().forEach((t=>{"Inbox"!==t.name&&"Today"!==t.name&&"This week"!==t.name&&(function(t){const e=document.getElementById("main"),s=document.createElement("div");s.classList.add("projects-list"),s.innerHTML+=`\n        <h2 id="current-project">${t}&emsp;\n        <button class="project-button" id="open-project">Open Project</button>\n        <button id="add-task">Add Task</button>\n        <button class="project-button" id="delete-project">Delete Project</button>\n        </h2><br>\n        <div class="task-list></div>`,e.appendChild(s)}(t.name),console.log("loadProjects if"))})),document.getElementById("add-task").addEventListener("click",(t=>{const e=prompt("Please enter a task name"),s=prompt("Please enter a task description"),n=prompt("Please enter a due date"),a=prompt("Please enter a task priority");new d(e,s,n,a)}))}function g(t){var e,s;console.log(this),console.log(this.parentNode.textContent),this.parentNode.textContent,s=this,document.querySelectorAll("project-button").forEach((t=>t.classList.remove("active"))),s.classList.add("active"),document.getElementById("task-list"),console.log(e.textContent),l.getTodoList().getProject(e).getTasks().forEach((t=>{return e=t.name,s=t.dueDate,void(document.getElementById("task-list").innerHTML+=`\n        <p>${e}${s}</p>`);var e,s}))}console.log("hi"),function(){const t=document.getElementById("content");t.appendChild(function(){const t=document.createElement("header");t.classList.add("header");const e=document.createElement("h1");return e.classList.add("page-name"),e.textContent="Todo List",t.appendChild(e),t.appendChild(function(){const t=document.createElement("nav"),e=document.createElement("button");e.classList.add("button-nav"),e.textContent="All Tasks",e.addEventListener("click",(t=>{t.target.classList.contains("active")||m(e)}));const s=document.createElement("button");s.classList.add("button-nav"),s.textContent="Today's Tasks",s.addEventListener("click",(t=>{t.target.classList.contains("active")||(m(s),document.getElementById("main").appendChild(function(){const t=document.createElement("div");return t.classList.add("today-tasks"),t}()))}));const n=document.createElement("button");n.classList.add("button-nav"),n.textContent="This Week's Tasks",n.addEventListener("click",(t=>{t.target.classList.contains("active")||m(n)})),t.appendChild(e),t.appendChild(s),t.appendChild(n),t.innerHTML+="<br>";const a=document.createElement("button");a.classList.add("button-main"),a.textContent="Create Project",a.addEventListener("click",(t=>{const e=prompt("Please enter a project name");""!==e?(l.addProject(new c(e)),l.getTodoList().contains(e)?alert("You can not have a duplicate project name"):(l.addProject(new c(e)),p())):alert("Project name can not be empty")}));const o=document.createElement("button");return o.classList.add("button-main"),o.textContent="Create Task",o.addEventListener("click",(t=>{const e=prompt("Please enter a task name"),s=prompt("Please enter a task description"),n=prompt("Please enter a due date"),a=prompt("Please enter a task priority");new d(e,s,n,a)})),t.appendChild(a),t.appendChild(o),t}()),t}()),t.appendChild(function(){const t=document.createElement("main");return t.classList.add("main"),t.setAttribute("id","main"),t}()),m(document.querySelector(".button-nav")),p(),function(){const t=document.querySelectorAll(".project-button");console.log(t),t.forEach((t=>{t.addEventListener("click",g)}))}()}()})();